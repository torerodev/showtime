---
repositories:
    - name: showtime
      description: Automation Library
      url: https://github.com/torerodev/showtime.git
      tags:
        - lab
        - torero

services:
    - name: state-backend
      type: opentofu-plan
      description: AWS state backend
      working-directory: library/opentofu/state-backend
      repository: showtime
      tags:
        - aws
        - dynamodb
        - opentofu
        - s3
        - state
      
    - name: aws-vpc
      type: opentofu-plan
      description: AWS VPC
      working-directory: library/opentofu/aws-vpc
      repository: showtime
      tags:
        - aws
        - network
        - opentofu
        - vpc
      secrets:
        - name: tf-var-aws-access-key
          type: env
          target: TF_VAR_aws_access_key
        - name: tf-var-aws-secret-key
          type: env
          target: TF_VAR_aws_secret_key
        - name: aws-access-key-id
          type: env
          target: AWS_ACCESS_KEY_ID
        - name: aws-secret-access-key
          type: env
          target: AWS_SECRET_ACCESS_KEY
...